<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>wisclab-guide - Alignment Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">wisclab-guide</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./alignmentGuide.html" aria-current="page"> 
<span class="menu-text">Alignment Guide</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#contents" id="toc-contents" class="nav-link active" data-scroll-target="#contents">Contents</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">1. Introduction</a>
  <ul class="collapse">
  <li><a href="#a.-forced-alignment-and-text-grids" id="toc-a.-forced-alignment-and-text-grids" class="nav-link" data-scroll-target="#a.-forced-alignment-and-text-grids">a. Forced alignment and text grids</a></li>
  <li><a href="#b.-hand-correction" id="toc-b.-hand-correction" class="nav-link" data-scroll-target="#b.-hand-correction">b. Hand-correction</a></li>
  </ul></li>
  <li><a href="#over-arching-questions-and-principles" id="toc-over-arching-questions-and-principles" class="nav-link" data-scroll-target="#over-arching-questions-and-principles">2. Over-arching questions and principles:</a></li>
  <li><a href="#using-praat" id="toc-using-praat" class="nav-link" data-scroll-target="#using-praat">3. Using Praat</a>
  <ul class="collapse">
  <li><a href="#download-praat" id="toc-download-praat" class="nav-link" data-scroll-target="#download-praat">Download Praat</a></li>
  <li><a href="#set-praat-as-default-program-for-opening-.praat-files" id="toc-set-praat-as-default-program-for-opening-.praat-files" class="nav-link" data-scroll-target="#set-praat-as-default-program-for-opening-.praat-files">Set Praat as default program for opening .praat files</a></li>
  <li><a href="#praat-shortcuts" id="toc-praat-shortcuts" class="nav-link" data-scroll-target="#praat-shortcuts">Praat shortcuts</a></li>
  </ul></li>
  <li><a href="#hand-correction" id="toc-hand-correction" class="nav-link" data-scroll-target="#hand-correction">4. Hand-correction</a>
  <ul class="collapse">
  <li><a href="#placement-of-boundaries" id="toc-placement-of-boundaries" class="nav-link" data-scroll-target="#placement-of-boundaries">Placement of boundaries</a></li>
  <li><a href="#how-different-sounds-appear-on-the-spectrogram-in-praat" id="toc-how-different-sounds-appear-on-the-spectrogram-in-praat" class="nav-link" data-scroll-target="#how-different-sounds-appear-on-the-spectrogram-in-praat">How different sounds appear on the spectrogram in Praat</a>
  <ul class="collapse">
  <li><a href="#vowels" id="toc-vowels" class="nav-link" data-scroll-target="#vowels">Vowels</a></li>
  <li><a href="#liquids" id="toc-liquids" class="nav-link" data-scroll-target="#liquids">Liquids</a></li>
  <li><a href="#nasals" id="toc-nasals" class="nav-link" data-scroll-target="#nasals">Nasals</a></li>
  <li><a href="#fricatives" id="toc-fricatives" class="nav-link" data-scroll-target="#fricatives">Fricatives</a></li>
  <li><a href="#stops" id="toc-stops" class="nav-link" data-scroll-target="#stops"><img src="alignmentGuide/media/image23.png" style="width:4.40566in;height:3.46051in">Stops</a></li>
  </ul></li>
  <li><a href="#documenting-questions-and-issues" id="toc-documenting-questions-and-issues" class="nav-link" data-scroll-target="#documenting-questions-and-issues">Documenting questions and issues</a></li>
  <li><a href="#when-the-transcription-does-not-match-audio-of-childs-speech" id="toc-when-the-transcription-does-not-match-audio-of-childs-speech" class="nav-link" data-scroll-target="#when-the-transcription-does-not-match-audio-of-childs-speech">When the transcription does not match audio of child’s speech</a></li>
  </ul></li>
  <li><a href="#beginning-of-utterance-issues" id="toc-beginning-of-utterance-issues" class="nav-link" data-scroll-target="#beginning-of-utterance-issues">5. Beginning-of-utterance issues</a>
  <ul class="collapse">
  <li><a href="#a.-initial-consonants-when-to-start" id="toc-a.-initial-consonants-when-to-start" class="nav-link" data-scroll-target="#a.-initial-consonants-when-to-start">a. Initial consonants, when to start</a>
  <ul class="collapse">
  <li><a href="#stop-consonants-and-affricates---p-t-k-b-d-g-ch-j" id="toc-stop-consonants-and-affricates---p-t-k-b-d-g-ch-j" class="nav-link" data-scroll-target="#stop-consonants-and-affricates---p-t-k-b-d-g-ch-j">Stop consonants and affricates - p, t, k, b, d, g, ch, j</a></li>
  <li><a href="#fricatives---s-z-h-sh-zh-f-v-th-dh" id="toc-fricatives---s-z-h-sh-zh-f-v-th-dh" class="nav-link" data-scroll-target="#fricatives---s-z-h-sh-zh-f-v-th-dh">Fricatives - s, z, h, sh, zh, f, v, th, dh</a></li>
  <li><a href="#nasals-n-m-ng" id="toc-nasals-n-m-ng" class="nav-link" data-scroll-target="#nasals-n-m-ng">Nasals – n, m, ng</a></li>
  <li><a href="#liquids-l-r" id="toc-liquids-l-r" class="nav-link" data-scroll-target="#liquids-l-r">Liquids – l, r</a></li>
  <li><a href="#potential-issues" id="toc-potential-issues" class="nav-link" data-scroll-target="#potential-issues">Potential issues</a></li>
  </ul></li>
  <li><a href="#b.-word-initial-vowels-and-glides-when-to-start" id="toc-b.-word-initial-vowels-and-glides-when-to-start" class="nav-link" data-scroll-target="#b.-word-initial-vowels-and-glides-when-to-start">b. Word-initial vowels and glides, when to start</a>
  <ul class="collapse">
  <li><a href="#word-initial-vowels" id="toc-word-initial-vowels" class="nav-link" data-scroll-target="#word-initial-vowels">Word-initial vowels</a></li>
  <li><a href="#word-initial-glides-w-y" id="toc-word-initial-glides-w-y" class="nav-link" data-scroll-target="#word-initial-glides-w-y">Word-initial glides – w, y</a></li>
  <li><a href="#potential-issues-with-initial-vowels-and-glides" id="toc-potential-issues-with-initial-vowels-and-glides" class="nav-link" data-scroll-target="#potential-issues-with-initial-vowels-and-glides">Potential Issues with initial vowels and glides</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#within-utterance-issues-transitions-from-one-sound-to-another-within-a-word-and-within-utterances" id="toc-within-utterance-issues-transitions-from-one-sound-to-another-within-a-word-and-within-utterances" class="nav-link" data-scroll-target="#within-utterance-issues-transitions-from-one-sound-to-another-within-a-word-and-within-utterances">6. Within-utterance issues (transitions from one sound to another within a word and within utterances)</a>
  <ul class="collapse">
  <li><a href="#a.-consonant-to-vowel-transitions-within-a-word" id="toc-a.-consonant-to-vowel-transitions-within-a-word" class="nav-link" data-scroll-target="#a.-consonant-to-vowel-transitions-within-a-word">a. Consonant-to-vowel transitions within a word</a></li>
  <li><a href="#b.-consonant-to-vowel-transitions-across-word-boundaries" id="toc-b.-consonant-to-vowel-transitions-across-word-boundaries" class="nav-link" data-scroll-target="#b.-consonant-to-vowel-transitions-across-word-boundaries">b. Consonant-to-vowel transitions across word boundaries</a>
  <ul class="collapse">
  <li><a href="#consonant-to-vowel-transition-with-a-gap-between-words" id="toc-consonant-to-vowel-transition-with-a-gap-between-words" class="nav-link" data-scroll-target="#consonant-to-vowel-transition-with-a-gap-between-words">Consonant to vowel transition with a gap between words</a></li>
  <li><a href="#consonant-to-vowel-boundaries-with-no-pause" id="toc-consonant-to-vowel-boundaries-with-no-pause" class="nav-link" data-scroll-target="#consonant-to-vowel-boundaries-with-no-pause">Consonant-to-vowel boundaries with no pause</a></li>
  <li><a href="#potential-issues-1" id="toc-potential-issues-1" class="nav-link" data-scroll-target="#potential-issues-1">Potential issues</a></li>
  </ul></li>
  <li><a href="#c.-consonant-to-consonant-transitions" id="toc-c.-consonant-to-consonant-transitions" class="nav-link" data-scroll-target="#c.-consonant-to-consonant-transitions">c.&nbsp;Consonant-to-consonant transitions</a>
  <ul class="collapse">
  <li><a href="#fricative-to-stopaffricate-transitions" id="toc-fricative-to-stopaffricate-transitions" class="nav-link" data-scroll-target="#fricative-to-stopaffricate-transitions">Fricative to stop/affricate transitions</a></li>
  <li><a href="#fricative-to-fricative-transitions" id="toc-fricative-to-fricative-transitions" class="nav-link" data-scroll-target="#fricative-to-fricative-transitions">Fricative to fricative transitions</a></li>
  <li><a href="#stop-to-fricative-transitions" id="toc-stop-to-fricative-transitions" class="nav-link" data-scroll-target="#stop-to-fricative-transitions">Stop to fricative transitions</a></li>
  <li><a href="#when-to-start-hh-in-chh-transitions" id="toc-when-to-start-hh-in-chh-transitions" class="nav-link" data-scroll-target="#when-to-start-hh-in-chh-transitions">When to start HH in C|HH transitions</a></li>
  <li><a href="#stop-to-stop-transitions-across-word-boundaries" id="toc-stop-to-stop-transitions-across-word-boundaries" class="nav-link" data-scroll-target="#stop-to-stop-transitions-across-word-boundaries">Stop to stop transitions (across word boundaries)</a></li>
  <li><a href="#unreleased-cons-to-cons-transition" id="toc-unreleased-cons-to-cons-transition" class="nav-link" data-scroll-target="#unreleased-cons-to-cons-transition">Unreleased Cons to Cons transition</a></li>
  <li><a href="#pause-between-words-when-do-we-start-the-post-pausal-consonant" id="toc-pause-between-words-when-do-we-start-the-post-pausal-consonant" class="nav-link" data-scroll-target="#pause-between-words-when-do-we-start-the-post-pausal-consonant">Pause between words, when do we start the post-pausal consonant?</a></li>
  </ul></li>
  <li><a href="#d.-vowel-to-vowel-boundaries" id="toc-d.-vowel-to-vowel-boundaries" class="nav-link" data-scroll-target="#d.-vowel-to-vowel-boundaries">d.&nbsp;Vowel-to-vowel boundaries</a>
  <ul class="collapse">
  <li><a href="#where-to-place-boundary-in-continuous-vv-transitions" id="toc-where-to-place-boundary-in-continuous-vv-transitions" class="nav-link" data-scroll-target="#where-to-place-boundary-in-continuous-vv-transitions">Where to place boundary in continuous V|V transitions</a></li>
  <li><a href="#where-to-place-boundary-in-vv-transitions-with-a-pause-between-words" id="toc-where-to-place-boundary-in-vv-transitions-with-a-pause-between-words" class="nav-link" data-scroll-target="#where-to-place-boundary-in-vv-transitions-with-a-pause-between-words">Where to place boundary in V|V transitions with a pause between words</a></li>
  </ul></li>
  <li><a href="#e.-vowel-to-voiceless-consonant-transitions" id="toc-e.-vowel-to-voiceless-consonant-transitions" class="nav-link" data-scroll-target="#e.-vowel-to-voiceless-consonant-transitions">e. Vowel-to-voiceless consonant transitions</a>
  <ul class="collapse">
  <li><a href="#vowel-to-consonant-with-preaspiration" id="toc-vowel-to-consonant-with-preaspiration" class="nav-link" data-scroll-target="#vowel-to-consonant-with-preaspiration">Vowel-to-Consonant with preaspiration</a></li>
  </ul></li>
  <li><a href="#f.-vowel-to-voiced-consonant-transitions" id="toc-f.-vowel-to-voiced-consonant-transitions" class="nav-link" data-scroll-target="#f.-vowel-to-voiced-consonant-transitions">f.&nbsp;Vowel to voiced consonant transitions</a>
  <ul class="collapse">
  <li><a href="#potential-issues-vowel-to-voiced-consonant-transitions" id="toc-potential-issues-vowel-to-voiced-consonant-transitions" class="nav-link" data-scroll-target="#potential-issues-vowel-to-voiced-consonant-transitions">Potential issues: Vowel-to-voiced consonant transitions</a></li>
  </ul></li>
  <li><a href="#g.-pauses" id="toc-g.-pauses" class="nav-link" data-scroll-target="#g.-pauses">g. Pauses</a>
  <ul class="collapse">
  <li><a href="#pauses-from-consonant-to-vowel-across-word-boundaries" id="toc-pauses-from-consonant-to-vowel-across-word-boundaries" class="nav-link" data-scroll-target="#pauses-from-consonant-to-vowel-across-word-boundaries">Pauses from consonant to vowel across word boundaries</a></li>
  <li><a href="#pauses-from-vowel-to-vowel-across-word-boundaries" id="toc-pauses-from-vowel-to-vowel-across-word-boundaries" class="nav-link" data-scroll-target="#pauses-from-vowel-to-vowel-across-word-boundaries">Pauses from vowel to vowel across word boundaries</a></li>
  <li><a href="#child-holds-a-pause-and-phonation-keeps-going" id="toc-child-holds-a-pause-and-phonation-keeps-going" class="nav-link" data-scroll-target="#child-holds-a-pause-and-phonation-keeps-going">Child holds a pause and phonation keeps going</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#end-of-utterance-issues" id="toc-end-of-utterance-issues" class="nav-link" data-scroll-target="#end-of-utterance-issues">7. End-of-utterance issues</a>
  <ul class="collapse">
  <li><a href="#a.-final-consonant-to-end-of-utterance-transition" id="toc-a.-final-consonant-to-end-of-utterance-transition" class="nav-link" data-scroll-target="#a.-final-consonant-to-end-of-utterance-transition">a. Final-consonant to end-of-utterance transition</a>
  <ul class="collapse">
  <li><a href="#stops-at-end-of-utterances" id="toc-stops-at-end-of-utterances" class="nav-link" data-scroll-target="#stops-at-end-of-utterances">Stops at end of utterances</a></li>
  <li><a href="#fricatives-at-the-ends-of-utterances" id="toc-fricatives-at-the-ends-of-utterances" class="nav-link" data-scroll-target="#fricatives-at-the-ends-of-utterances">Fricatives at the ends of utterances</a></li>
  <li><a href="#nasals-at-ends-of-utterances" id="toc-nasals-at-ends-of-utterances" class="nav-link" data-scroll-target="#nasals-at-ends-of-utterances">Nasals at ends of utterances</a></li>
  <li><a href="#liquids-at-ends-of-utterances" id="toc-liquids-at-ends-of-utterances" class="nav-link" data-scroll-target="#liquids-at-ends-of-utterances">Liquids at ends of utterances</a></li>
  <li><a href="#final-consonant-potential-issues" id="toc-final-consonant-potential-issues" class="nav-link" data-scroll-target="#final-consonant-potential-issues">Final consonant potential issues</a></li>
  </ul></li>
  <li><a href="#b.-final-vowel-to-end-of-utterance-transition" id="toc-b.-final-vowel-to-end-of-utterance-transition" class="nav-link" data-scroll-target="#b.-final-vowel-to-end-of-utterance-transition">b. Final vowel to end-of-utterance transition</a>
  <ul class="collapse">
  <li><a href="#typical-end-of-vowel" id="toc-typical-end-of-vowel" class="nav-link" data-scroll-target="#typical-end-of-vowel">Typical end of vowel</a></li>
  </ul></li>
  <li><a href="#c.-final-vowel-potential-issues" id="toc-c.-final-vowel-potential-issues" class="nav-link" data-scroll-target="#c.-final-vowel-potential-issues">c.&nbsp;Final vowel potential issues</a>
  <ul class="collapse">
  <li><a href="#boundary-placement-phonation-for-vowel-ends-before-end-of-word" id="toc-boundary-placement-phonation-for-vowel-ends-before-end-of-word" class="nav-link" data-scroll-target="#boundary-placement-phonation-for-vowel-ends-before-end-of-word">Boundary placement – phonation for vowel ends before end of word</a></li>
  <li><a href="#where-to-place-end-of-vowel-boundary-when-there-is-exhale-at-end-of-word" id="toc-where-to-place-end-of-vowel-boundary-when-there-is-exhale-at-end-of-word" class="nav-link" data-scroll-target="#where-to-place-end-of-vowel-boundary-when-there-is-exhale-at-end-of-word">Where to place end-of-vowel boundary when there is exhale at end of word</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#segmental-issues-number-of-segments" id="toc-segmental-issues-number-of-segments" class="nav-link" data-scroll-target="#segmental-issues-number-of-segments">8. Segmental issues (number of segments)</a>
  <ul class="collapse">
  <li><a href="#a.-blend-coalescence" id="toc-a.-blend-coalescence" class="nav-link" data-scroll-target="#a.-blend-coalescence">a. Blend coalescence</a>
  <ul class="collapse">
  <li><a href="#sm-coalesces-to-f" id="toc-sm-coalesces-to-f" class="nav-link" data-scroll-target="#sm-coalesces-to-f">SM coalesces to F</a></li>
  </ul></li>
  <li><a href="#b.-vocalization-of-l-and-syllabic-l" id="toc-b.-vocalization-of-l-and-syllabic-l" class="nav-link" data-scroll-target="#b.-vocalization-of-l-and-syllabic-l">b. Vocalization of L and Syllabic L</a>
  <ul class="collapse">
  <li><a href="#final-l-is-produced-as-ow1-animo" id="toc-final-l-is-produced-as-ow1-animo" class="nav-link" data-scroll-target="#final-l-is-produced-as-ow1-animo">Final L is produced as OW1 (“animo”)</a></li>
  <li><a href="#where-to-place-l-boundaries-in-ah0-l-sequence-when-l-is-syllabic" id="toc-where-to-place-l-boundaries-in-ah0-l-sequence-when-l-is-syllabic" class="nav-link" data-scroll-target="#where-to-place-l-boundaries-in-ah0-l-sequence-when-l-is-syllabic">Where to place L boundaries in AH0 L sequence when L is syllabic</a></li>
  </ul></li>
  <li><a href="#c.-syllabic-r-issues" id="toc-c.-syllabic-r-issues" class="nav-link" data-scroll-target="#c.-syllabic-r-issues">c.&nbsp;Syllabic R issues</a>
  <ul class="collapse">
  <li><a href="#where-to-place-boundaries-and-whether-to-keep-segments-when-r-is-syllabic" id="toc-where-to-place-boundaries-and-whether-to-keep-segments-when-r-is-syllabic" class="nav-link" data-scroll-target="#where-to-place-boundaries-and-whether-to-keep-segments-when-r-is-syllabic">Where to place boundaries and whether to keep segments when R is syllabic</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#miscellaneous-issues" id="toc-miscellaneous-issues" class="nav-link" data-scroll-target="#miscellaneous-issues">9. Miscellaneous issues</a>
  <ul class="collapse">
  <li><a href="#beanie-has-no-phones-listed" id="toc-beanie-has-no-phones-listed" class="nav-link" data-scroll-target="#beanie-has-no-phones-listed">Beanie has no phones listed</a></li>
  <li><a href="#hh-in-whip" id="toc-hh-in-whip" class="nav-link" data-scroll-target="#hh-in-whip">HH in WHIP</a></li>
  <li><a href="#y-in-new" id="toc-y-in-new" class="nav-link" data-scroll-target="#y-in-new">Y in NEW</a></li>
  <li><a href="#inaccurate-transcription-in-text-grid" id="toc-inaccurate-transcription-in-text-grid" class="nav-link" data-scroll-target="#inaccurate-transcription-in-text-grid">Inaccurate transcription in text grid</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Alignment Guide</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><strong>WISC Lab guide to hand-correction of force-aligned text grids</strong></p>
<p>Written by <a href="https://kidspeech.wisc.edu/staff/annear-lucas/">Lucas Annear</a></p>
<p>Published by <a href="https://kidspeech.wisc.edu/staff/nomeland-henry/">Henry Nomeland</a></p>
<section id="contents" class="level1">
<h1>Contents</h1>
<p><a href="#introduction">1. Introduction</a></p>
<p><a href="#a.-forced-alignment-and-text-grids">a. Forced alignment and text grids</a></p>
<p><a href="#b.-hand-correction">b. Hand-correction</a></p>
<p><a href="#over-arching-questions-and-principles">2. Over-arching questions and principles</a></p>
<p><a href="#_Toc160010079">3. Using Praat</a></p>
<p><a href="#hand-correction">4. Hand-correction</a></p>
<p><a href="#vowels">Vowels</a></p>
<p><a href="#liquids">Liquids</a></p>
<p><a href="#nasals">Nasals</a></p>
<p><a href="#fricatives">Fricatives</a></p>
<p><a href="#stops">Stops</a></p>
<p><a href="#documenting-questions-and-issues">Documenting questions and issues</a></p>
<p><a href="#_Toc160010098">5. Beginning-of-utterance issues</a></p>
<p><a href="#a.-initial-consonants-when-to-start">a. Initial consonants, when to start</a></p>
<p><a href="#stop-consonants-and-affricates---p-t-k-b-d-g-ch-j">Stop consonants and affricates - p, t, k, b, d, g, ch, j</a></p>
<p><a href="#fricatives---s-z-h-sh-zh-f-v-th-dh">Fricatives - s, z, h, sh, zh, f, v, th, dh</a></p>
<p><a href="#nasals-n-m-ng">Nasals – n, m, ng</a></p>
<p><a href="#liquids-l-r">Liquids – l, r</a></p>
<p><a href="#_Toc160010104">Potential issues</a></p>
<p><a href="#b.-word-initial-vowels-and-glides-when-to-start">b. Word-initial vowels and glides, when to start</a></p>
<p><a href="#word-initial-vowels">Word-initial vowels</a></p>
<p><a href="#word-initial-glides-w-y">Word-initial glides – w, y</a></p>
<p><a href="#potential-issues-with-initial-vowels-and-glides">Potential Issues with initial vowels and glides</a></p>
<p><a href="#within-utterance-issues-transitions-from-one-sound-to-another-within-a-word-and-within-utterances">6. Within-utterance issues</a></p>
<p><a href="#a.-consonant-to-vowel-transitions-within-a-word">a. Consonant-to-vowel transitions within a word</a></p>
<p><a href="#b.-consonant-to-vowel-transitions-across-word-boundaries">b. Consonant-to-vowel transitions across word boundaries</a></p>
<p><a href="#c.-consonant-to-consonant-transitions">c.&nbsp;Consonant-to-consonant transitions</a></p>
<p><a href="#d.-vowel-to-vowel-boundaries">d.&nbsp;Vowel-to-vowel boundaries</a></p>
<p><a href="#e.-vowel-to-voiceless-consonant-transitions">e. Vowel-to-voiceless consonant transitions</a></p>
<p><a href="#f.-vowel-to-voiced-consonant-transitions">f.&nbsp;Vowel to voiced consonant transitions</a></p>
<p><a href="#g.-pauses">g. Pauses</a></p>
<p><a href="#end-of-utterance-issues">7. End-of-utterance issues</a></p>
<p><a href="#a.-final-consonant-to-end-of-utterance-transition">a. Final-consonant to end-of-utterance transition</a></p>
<p><a href="#b.-final-vowel-to-end-of-utterance-transition">b. Final vowel to end-of-utterance transition</a></p>
<p><a href="#c.-final-vowel-potential-issues">c.&nbsp;Final vowel potential issues</a></p>
<p><a href="#segmental-issues-number-of-segments">8. Segmental issues</a></p>
<p><a href="#a.-blend-coalescence">a. Blend coalescence</a></p>
<p><a href="#b.-vocalization-of-l-and-syllabic-l">b. Vocalization of L and Syllabic L</a></p>
<p><a href="#c.-syllabic-r-issues">c.&nbsp;Syllabic R issues</a></p>
<p><a href="#miscellaneous-issues">9. Miscellaneous issues</a></p>
<p><a href="#references">References</a></p>
</section>
<section id="introduction" class="level1">
<h1>1. Introduction</h1>
<section id="a.-forced-alignment-and-text-grids" class="level2">
<h2 class="anchored" data-anchor-id="a.-forced-alignment-and-text-grids">a. Forced alignment and text grids</h2>
<img src="alignmentGuide/media/image3.png" class="center">
<p>In the WISC Lab we have audio recordings of children with typical speech development and with speech and motor impairments due to Cerebral Palsy. In these recordings the child is repeating words and phrases from the <em>Test of Children’s Speech</em> (the TOCS, as we know them by). Examples include phrases like “Cowboy boots” and “Put all the toys away”. We then use the recordings of these phrases to calculate articulation rate, speech sound accuracy, as well as to get measures of how intelligible the child is. Figure 3 below shows what it looks like if we open the file “The sign says keep out” all by itself in the program Praat.</p>
<p>We can see the waveform (top) and the spectrogram (bottom), but what if we want to keep track of how long different words and sounds are?</p>
<img src="alignmentGuide/media/image4.png" class="center">
<p>Marking the start and end points of sounds and words in a recording is useful for a variety of research purposes. However, we can’t make marks/annotations directly in the sound file, so to do this we need to create a separate file that stores all of the locations of events like the start and end of a word or sound.</p>
<p>The tool that we use to create a separate document containing annotations and labels for different words and sounds is called a <strong>forced aligner</strong>. A forced aligner takes an audio file (typically a .wav file) and a transcription of what was said in the audio file (usually a .txt or .lab file) and uses speech recognition technology to create a new file called a <strong>text grid</strong> that is designed to be paired with the audio file. The text grid has boundaries and labels indicating the locations of the words and phonemes in the audio file.</p>
<p>A <strong>text grid</strong> file is associated with a given audio file and has moveable boundaries and labels to note the occurrence of certain events (like the beginning and end of a vowel) that may be useful for research. Figure 4 below shows what that same audio file (“The sign says keep out”) looks like when opened together with the text grid that was created for that sound file by Montreal Forced Aligner. The text grids we create for the lab contain separate <strong>tiers</strong> for words, sounds, and the sentence containing them. Each tier has <strong>intervals</strong> with <strong>vertical boundaries</strong> separating words and sounds. These files (the text grid and wav file) can be used for automated retrieval of acoustic data such as duration of a word/sound, formant frequencies of vowels, and other variables of interest.</p>
<img src="alignmentGuide/media/image5.png" class="center">
<p>We can open these text grids along with the audio file in a program called <strong>Praat</strong> (Dutch for “speech”, sounds like “praht” - /pra:t/). When the text grids and audio files are paired together in Praat, it is now easier and quicker for us to make measurements because we have labels for each word and sound, as well as the time intervals during which these events occur.</p>
</section>
<section id="b.-hand-correction" class="level2">
<h2 class="anchored" data-anchor-id="b.-hand-correction">b. Hand-correction</h2>
<p>Forced aligners are not perfect, however. When a forced aligner creates a text grid, the initial placement of boundaries for words and sounds may not be accurate. During the <strong>hand-correction</strong> process, you will be adjusting boundaries in text grids that have been automatically created using the Montreal Forced Aligner (MFA for short). When Montreal Forced Aligner pairs a typed transcription with an audio file, it frequently does a pretty good job of putting boundaries in place, and the boundaries might just need some slight shifting, or even no adjustment at all. Other times, the boundaries are placed at the wrong times, and even placed at a time at which an entirely different word is being produced. These boundaries require hand-correction.</p>
<p>Your job is to ensure that those boundaries have been placed where they ought to go. This document that you are reading now is intended to help you understand what you are looking at when you look at audio recordings in Praat (or any program that shows a spectrogram and waveform), and it is designed to be a guide for decision-making when boundary placement is difficult to determine.</p>
<p>Figure 5 shows a text grid prior to hand-correction, and Figure 6 shows the same text grid but with black and gold squares overlaid on the image to show where the word boundaries actually are. Figure 7 then shows what the text grid looks like after hand-correction.</p>
<img src="alignmentGuide/media/image6.png" class="center">
<img src="alignmentGuide/media/image7.png" class="center">
<img src="alignmentGuide/media/image8.png" class="center">
</section>
</section>
<section id="over-arching-questions-and-principles" class="level1">
<h1>2. Over-arching questions and principles:</h1>
<p>While the remainder of the document shows specific examples of where boundaries should be placed in certain circumstances, there are just a few main overarching principles to keep in mind. Use the principles immediately below, along with circumstances documented in the table of contents to help you make more efficient decisions regarding boundary placement.</p>
<ol type="1">
<li><p><strong>What counts as speech?</strong><br>
We’re counting as speech any sound generated by the articulators that carries information about the sounds produced in the utterance.</p></li>
<li><p><strong>When should a boundary be moved?</strong><br>
Boundaries should remain where they were placed by the forced aligner unless you have visual or auditory evidence from the spectrogram/waveform and recording that a given boundary does not line up with either the beginning or end of a sound.</p></li>
</ol>
</section>
<section id="using-praat" class="level1">
<h1>3. Using Praat</h1>
<section id="download-praat" class="level2">
<h2 class="anchored" data-anchor-id="download-praat">Download Praat</h2>
<p>If you don’t have Praat on your computer yet, download Praat: <a href="https://www.fon.hum.uva.nl/praat/" class="uri">https://www.fon.hum.uva.nl/praat/</a></p>
<p>The download gives you a .zip file, which you can then extract to your Desktop for convenience: Right click on zip folder &gt; Extract all &gt; Browse &gt; select Desktop</p>
</section>
<section id="set-praat-as-default-program-for-opening-.praat-files" class="level2">
<h2 class="anchored" data-anchor-id="set-praat-as-default-program-for-opening-.praat-files">Set Praat as default program for opening .praat files</h2>
<p><u>On Windows machines</u>: right click on any .praat file, and select “Properties”. Under <em>Opens with</em>, select <em>Change</em> and select Praat as the program that automatically opens .praat files (navigate to wherever Praat is saved on your computer. It may be on your desktop, it may be in Program Files).</p>
</section>
<section id="praat-shortcuts" class="level2">
<h2 class="anchored" data-anchor-id="praat-shortcuts">Praat shortcuts</h2>
<ul>
<li><p>Zoom in – ctrl + I</p></li>
<li><p>Zoom out – ctrl + O</p></li>
<li><p>Zoom to selection – ctrl + N</p></li>
<li><p>Select next interval/tier – alt + arrow keys</p></li>
<li><p>Remove boundary – click on or after a boundary, and type alt + backspace (do this for each tier that a boundary needs to be deleted on)</p></li>
</ul>
</section>
</section>
<section id="hand-correction" class="level1">
<h1>4. Hand-correction</h1>
<section id="placement-of-boundaries" class="level2">
<h2 class="anchored" data-anchor-id="placement-of-boundaries">Placement of boundaries</h2>
<ul>
<li>We place boundaries at the beginnings and ends of events. For example, we place a boundary at the beginning and at the end of a sound. In practice, this boundary is often just ever so slightly <em>before</em> the event that we’re marking then and ever so slightly following that event. For two continuous events, the end of one sound is generally the beginning of the next unless there is a clear pause.<br>
The remainder of this document is a guide to boundary placement for different types of sounds, and for different positions in words and utterances. Use the Table of Contents above or the Navigation bar to the left to help you navigate to relevant sections within the document.</li>
</ul>
</section>
<section id="how-different-sounds-appear-on-the-spectrogram-in-praat" class="level2">
<h2 class="anchored" data-anchor-id="how-different-sounds-appear-on-the-spectrogram-in-praat">How different sounds appear on the spectrogram in Praat</h2>
<section id="vowels" class="level3">
<h3 class="anchored" data-anchor-id="vowels">Vowels</h3>
<p><strong>Darker energy</strong> - Vowels appear as dark regions of energy with visible pulses as a result of vocal fold vibration.<br>
<strong>Formants</strong> - You will generally see line-like regions called formants. Formants are frequency regions that are emphasized by a given vocal tract configuration, and differ from vowel to vowel. The screenshot below shows the word TOYS, with the vowel OY1 highlighted. Note the formant structure and how one of the formants rises as the diphthong changes from /o/ to /i/.</p>
</section>
<section id="liquids" class="level3">
<h3 class="anchored" data-anchor-id="liquids">Liquids</h3>
<p>L often looks similar to vowels, with highest energy concentrated in lower frequencies. Here L in Figure 10 contrasts against the IY1 and AE1 vowels on either side.</p>
<p>R<br>
Like L, R looks much like a vowel, but a clearly articulated R will almost always have a third formant that dips down to 3,000 Hz or lower. Notice the transition that the third band makes from AO1 to R in OR below (the red arrow points to it).</p>
</section>
<section id="nasals" class="level3">
<h3 class="anchored" data-anchor-id="nasals">Nasals</h3>
<p>Nasals will generally show patterns similar to vowels and liquids, but will often have a “hollow” look compared to a vowel, as in the highlighted portion below in the word MAKE.</p>
</section>
<section id="fricatives" class="level3">
<h3 class="anchored" data-anchor-id="fricatives">Fricatives</h3>
<p>S, SH (sheep), Z, F, V, TH (think), DH (this)<br>
<strong>Noise</strong> - Fricatives have noise that is generally distributed throughout the frequency spectrum.<br>
S, SH, and Z are typically longer and with very apparent noise in higher frequency ranges.<br>
TH, DH, F and V are often less pronounced, but if clearly articulated will have visible noise in the spectrogram. Generally shorter than S and SH.<br>
DH sometimes appears similar to D</p>
</section>
<section id="stops" class="level3">
<h3 class="anchored" data-anchor-id="stops"><img src="alignmentGuide/media/image23.png" style="width:4.40566in;height:3.46051in">Stops</h3>
<p>P, T, K, B, D, G<br>
<strong>Burst</strong> – Stops will often be characterized by a thin dark line across the frequency range. This is from the release of the consonant (the “burst”).<br>
Voiceless stops in English will have a longer period of noisy energy after the burst, and for voiced consonants, the vowel will usually start immediately after the burst.</p>
<p><u><br>
</u></p>
</section>
</section>
<section id="documenting-questions-and-issues" class="level2">
<h2 class="anchored" data-anchor-id="documenting-questions-and-issues">Documenting questions and issues</h2>
<ul>
<li>There is a blank field for notes for each file that you correct.<br>
Whenever you encounter an issue that you aren’t sure how to navigate, do your best place the boundary where you think it should go, and then document the problem. For example maybe the kid omitted the S in BIRD HOUSE. You could enter into the “notes” field:<br>
“S omitted from HOUSE, short S interval was left.”<br>
<img src="alignmentGuide/media/image24.png" alt="A screenshot of a computer Description automatically generated with medium confidence" style="width:3.59434in;height:1.19259in"></li>
</ul>
</section>
<section id="when-the-transcription-does-not-match-audio-of-childs-speech" class="level2">
<h2 class="anchored" data-anchor-id="when-the-transcription-does-not-match-audio-of-childs-speech">When the transcription does not match audio of child’s speech</h2>
<ul>
<li><p><strong>When to update</strong><br>
<em>Very</em> occasionally the transcription of what the child said will be slightly different than what the child said in the audio. Figure 19 below shows the child saying “besides the shaggy dog”, but the transcription says “beside”. When the produced word is unequivocally different than the word in the transcription, update just the transcription in the 3<sup>rd</sup> (bottom) tier, as in figure</p>
<ol start="20" type="1">
<li></li>
</ol>
<p><img src="alignmentGuide/media/image27.png" style="width:3.7131in;height:3.13749in"><br>
<strong>Figure 18</strong> - Updated transcription on 3<sup>rd</sup> tier</p></li>
<li><p><strong>When not to update</strong><br>
In some utterances, it may be difficult to tell if the child said one thing or the other. For instance, it may sound like the child said <u>drink</u> pop instead of <u>drank</u> pop. <em>Drink</em> and <em>drank</em> sound very similar here. In these instances, <strong>do not</strong> update the transcription, trust the original transcription.</p></li>
</ul>
</section>
</section>
<section id="beginning-of-utterance-issues" class="level1">
<h1>5. Beginning-of-utterance issues</h1>
<section id="a.-initial-consonants-when-to-start" class="level2">
<h2 class="anchored" data-anchor-id="a.-initial-consonants-when-to-start">a. Initial consonants, when to start</h2>
<section id="stop-consonants-and-affricates---p-t-k-b-d-g-ch-j" class="level3">
<h3 class="anchored" data-anchor-id="stop-consonants-and-affricates---p-t-k-b-d-g-ch-j">Stop consonants and affricates - p, t, k, b, d, g, ch, j</h3>
<ul>
<li><p><strong>Voiceless stop</strong> <strong>consonants</strong> – In English, voiceless stops have a longer period of noise following release of the burst than voiced consonant do.<br>
Canonical boundary placement – boundary is placed adjacently preceding release of the burst for the consonant.<br>
What this looks like in context<br>
<img src="alignmentGuide/media/image28.png" style="width:4.30435in;height:2.99419in"><br>
<strong>Figure 19</strong> – Initial voiceless stop consonant boundary placement in context</p>
<p>What this looks like zoomed in<br>
<img src="alignmentGuide/media/image29.png" style="width:3.16981in;height:3.54698in"><br>
<strong>Figure 20</strong> – Initial stop consonant boundary placement zoomed in</p></li>
<li><p><strong>Voiced stop consonants</strong> – voiced stop consonants will have a short burst release and the vowel will start very shortly after the release of the consonant. Sometimes, voicing may start before the release of the consonant, which is called <em>prevoicing</em>. Figure X below shows a voiced consonant with no prevoicing, and figure 22 shows a voiced consonant with prevoicing before the release.</p>
<p><img src="alignmentGuide/media/image30.png" style="width:4.73178in;height:3.97045in"><br>
<strong>Figure 21</strong> – voiced stop that has prevoicing leading up to the burst release</p>
<p>What English voiced stops look like with no prevoicing (this is typical)<br>
<img src="alignmentGuide/media/image31.png" style="width:4.72261in;height:3.73268in"><br>
<strong>Figure 22 -</strong> Voiced initial stop with no prevoicing</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image32.png" style="width:3.778in;height:3.07648in"><br>
<strong>Figure 23 -</strong> Voiced stop with no prevoicing, zoomed in</p></li>
</ul>
</section>
<section id="fricatives---s-z-h-sh-zh-f-v-th-dh" class="level3">
<h3 class="anchored" data-anchor-id="fricatives---s-z-h-sh-zh-f-v-th-dh">Fricatives - s, z, h, sh, zh, f, v, th, dh</h3>
<ul>
<li><p>Canonical boundary placement – boundary is placed adjacently preceding the first sign of frication noise for the fricative (in this case S below)</p></li>
<li><p>Note that DH most often looks similar to a stop consonant.</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image33.png" style="width:4.74916in;height:3.30665in"><br>
<strong>Figure 24</strong> – Initial fricative boundary placement in context<br>
What this looks like zoomed in<br>
<img src="alignmentGuide/media/image34.png" style="width:2.93044in;height:3.6218in"><br>
<strong>Figure 25</strong> – Initial fricative boundary placement zoomed in</p></li>
</ul>
</section>
<section id="nasals-n-m-ng" class="level3">
<h3 class="anchored" data-anchor-id="nasals-n-m-ng">Nasals – n, m, ng</h3>
<blockquote class="blockquote">
<p>Canonical boundary placement – Boundary is place adjacently preceding onset of phonation/nasalization</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image35.png" style="width:4.83472in;height:3.35409in"><br>
<strong>Figure 26</strong> – Initial nasal boundary placement in context</p>
<p>What this looks like zoomed in: here there appears to be noise related to beginning of nasalization, but this could not be confirmed with headphones while listening, so the boundary was placed where the voicing bar of phonation begins in the lower frequency region of the spectrogram.<br>
<img src="alignmentGuide/media/image36.png" style="width:3.79245in;height:3.10507in"><br>
<strong>Figure 27</strong> – Initial nasal boundary placement zoomed in</p>
</blockquote>
</section>
<section id="liquids-l-r" class="level3">
<h3 class="anchored" data-anchor-id="liquids-l-r">Liquids – l, r</h3>
<ul>
<li><p><em>L</em><br>
Canonical boundary placement – Place boundary at the onset of the segment. This may be clear phonation and intensity seen as nearly black on the spectrogram, or in the case of the screenshot below, some formant starts to be present as part of articulation of L, so the boundary was placed at the onset of this noise and formant structure.</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image37.png" style="width:4.0283in;height:2.78624in"><br>
<strong>Figure 28</strong> – Initial L boundary placement in context</p>
<p>What this looks like zoomed in<br>
<img src="alignmentGuide/media/image38.png" style="width:3.78302in;height:2.91608in"><br>
<strong>Figure 29</strong> – Initial L boundary placement in context</p></li>
<li><p><em>R</em><br>
Canonical boundary placement – Place boundary at the onset of articulation-related noise in the signal. In this case, some articulation of R preceded phonation.</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image39.png" style="width:4.83103in;height:3.45217in"><br>
<strong>Figure 30</strong> – Initial R boundary placement in context</p></li>
</ul>
<blockquote class="blockquote">
<p>What this looks like zoomed in<br>
<img src="alignmentGuide/media/image40.png" style="width:3.60377in;height:3.08573in"><br>
<strong>Figure 31</strong> – Initial R boundary placement zoomed in</p>
</blockquote>
</section>
<section id="potential-issues" class="level3">
<h3 class="anchored" data-anchor-id="potential-issues">Potential issues</h3>
<section id="hh-initial-boundary-is-missing" class="level4">
<h4 class="anchored" data-anchor-id="hh-initial-boundary-is-missing">HH initial boundary is missing</h4>
<ul>
<li><p>Q: What to do if HH is missing the initial boundary?</p></li>
<li><p>A: You’ll need to place a boundary at the beginning of the sound (Boundary &gt; Add on Tier 1, Add on Tier 2. See the shortcuts if you prefer shortcuts).</p>
<p>In context:<br>
<img src="alignmentGuide/media/image41.png" style="width:5.02282in;height:3.67803in"><br>
Figure 32 – HH is missing the initial boundary</p>
<p>Placing the boundaries will put the phone and word-level text to the left of the new boundaries:<br>
<img src="alignmentGuide/media/image42.png" style="width:4.99645in;height:3.44574in"><br>
Figure – With boundaries placed but before text has been moved</p>
<p>Cut the text from the text field near the top of the window and paste it into the appropriate interval (see tutorial video for s2T03 as well if needed).<br>
<img src="alignmentGuide/media/image43.png" style="width:3.94498in;height:2.50611in"></p>
<p>With text moved:<br>
<img src="alignmentGuide/media/image44.png" style="width:4.23834in;height:3.71489in"><br>
Figure 34 – After text has been moved to appropriate intervals.</p></li>
</ul>
</section>
<section id="voiceless-and-breathy-beginnings" class="level4">
<h4 class="anchored" data-anchor-id="voiceless-and-breathy-beginnings">Voiceless and breathy beginnings</h4>
<ul>
<li>Q: When there is an initial H-like beginning to a sound do we include this as part of the first segment?<br>
A: Yes, especially with liquids and nasals, the initial H-like element typically carries phonetic information from the initial segment (be it L, R, or N).<br>
<img src="alignmentGuide/media/image45.png" style="width:4.43367in;height:3.08036in"><br>
<strong>Figure 35</strong> – Boundary placement for breathy HH-like beginning of L<br>
<img src="alignmentGuide/media/image46.png" style="width:4.61076in;height:3.2034in"><br>
<strong>Figure 36</strong> – Boundary placement for breathy HH-like beginning of N</li>
</ul>
</section>
<section id="new-is-listed-as-n-y-uw1" class="level4">
<h4 class="anchored" data-anchor-id="new-is-listed-as-n-y-uw1">“New” is listed as N Y UW1</h4>
<ul>
<li><p>American English dialects typically do not pronounce <em>new</em> as /nju:/ (there is no Y sound following the N). The Y segment can be deleted (click in the interval and press backspace), as well as the boundary between Y and UW1 (click on the boundary and click alt + backspace.<br>
What this looks like pre-correction:<br>
<img src="alignmentGuide/media/image47.png" alt="A screenshot of a computer Description automatically generated with medium confidence" style="width:5.62766in;height:3.11446in"><br>
<strong>Figure 37 -</strong> Y in the word <em>new</em> should be deleted</p></li>
<li><p>What this looks like after hand-correction:<br>
<img src="alignmentGuide/media/image48.png" alt="A screenshot of a computer Description automatically generated with medium confidence" style="width:5.16624in;height:2.87013in"><br>
<strong>Figure 38</strong> - <em>new</em> following deletion of Y</p></li>
</ul>
</section>
</section>
</section>
<section id="b.-word-initial-vowels-and-glides-when-to-start" class="level2">
<h2 class="anchored" data-anchor-id="b.-word-initial-vowels-and-glides-when-to-start">b. Word-initial vowels and glides, when to start</h2>
<section id="word-initial-vowels" class="level3">
<h3 class="anchored" data-anchor-id="word-initial-vowels">Word-initial vowels</h3>
<ul>
<li><p>Canonical boundary placement – Boundary is placed at the onset of phonation/laryngeal activity related to the beginning of the vowel</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image49.png" style="width:4.84874in;height:3.37391in"><br>
<strong>Figure 39</strong> – Initial vowel boundary placement in context</p>
<p>What this looks like zoomed in<br>
<img src="alignmentGuide/media/image50.png" style="width:3.54717in;height:3.02988in"><br>
<strong>Figure 40</strong> – Initial vowel boundary placement zoomed in</p></li>
</ul>
</section>
<section id="word-initial-glides-w-y" class="level3">
<h3 class="anchored" data-anchor-id="word-initial-glides-w-y">Word-initial glides – w, y</h3>
<ul>
<li><p>Canonical placement – Place boundary at the onset of phonation or articulation (onset of glide may be something like a voiceless vowel).</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image51.png" style="width:4.6in;height:3.69917in"><br>
<strong>Figure 41</strong> – Initial glide boundary placement in context</p>
<p>What this looks like zoomed in<br>
<img src="alignmentGuide/media/image52.png" style="width:4.26771in;height:3.16522in"><br>
<strong>Figure 42</strong> – Initial glide boundary placement zoomed in</p></li>
</ul>
</section>
<section id="potential-issues-with-initial-vowels-and-glides" class="level3">
<h3 class="anchored" data-anchor-id="potential-issues-with-initial-vowels-and-glides">Potential Issues with initial vowels and glides</h3>
<ul>
<li><p><em>“Glottal pop” at beginning of vowel</em>**<br>
<strong>Q: When “glottal pops” begin vowels, do we count this as part of the vowel?<br>
A: Yes. It’s the beginning of the production, and uneven phonation is likely to be more common in kids with CP.<br>
<img src="alignmentGuide/media/image53.png" style="width:4.89565in;height:3.40656in"><br>
</strong>Figure 43** – Initial vowel boundary placement when vowel begins with “glottal pop”**</p>
<p>**</p></li>
<li><p><em>Voiceless beginning of glides</em>**<br>
<strong>Q: Do we include voiceless /w/ leading in to voiced portion of /w/?<br>
A: Yes, for reasons listed above.<br>
<img src="alignmentGuide/media/image54.png" style="width:4.34457in;height:3.02217in"><br>
</strong>Figure 44** – Voiceless beginning of glide W, boundary placement</p></li>
</ul>
</section>
</section>
</section>
<section id="within-utterance-issues-transitions-from-one-sound-to-another-within-a-word-and-within-utterances" class="level1">
<h1>6. Within-utterance issues (transitions from one sound to another within a word and within utterances)</h1>
<section id="a.-consonant-to-vowel-transitions-within-a-word" class="level2">
<h2 class="anchored" data-anchor-id="a.-consonant-to-vowel-transitions-within-a-word">a. Consonant-to-vowel transitions within a word</h2>
<ul>
<li><p>Canonical placement – Place boundary at the clearest vertical onset of formant structure</p>
<p>What this looks like in context<br>
<img src="alignmentGuide/media/image55.png" style="width:4.50943in;height:3.20358in"><br>
<strong>Figure 45</strong> – Consonant to vowel transition boundary placement in context<br>
What this looks like zoomed in<br>
<img src="alignmentGuide/media/image56.png" style="width:4.0566in;height:3.14387in"><br>
<strong>Figure 46</strong> – Consonant to vowel transition boundary placement in context</p></li>
</ul>
</section>
<section id="b.-consonant-to-vowel-transitions-across-word-boundaries" class="level2">
<h2 class="anchored" data-anchor-id="b.-consonant-to-vowel-transitions-across-word-boundaries">b. Consonant-to-vowel transitions across word boundaries</h2>
<section id="consonant-to-vowel-transition-with-a-gap-between-words" class="level3">
<h3 class="anchored" data-anchor-id="consonant-to-vowel-transition-with-a-gap-between-words">Consonant to vowel transition with a gap between words</h3>
<ul>
<li><p><strong>Q:</strong> Where to place boundaries when there is a visible gap between a final consonant of one word and an initial vowel of the following word?</p></li>
<li><p><strong>A:</strong> If there is a visible gap with no audible vowel sound, there should be a pause between the final consonant of the first word and the initial vowel of the following word. As in figure 45 below<br>
<img src="alignmentGuide/media/image57.png" style="width:4.30529in;height:3.40053in"><br>
<strong>Figure 47 -</strong> Small gap between final consonant in <em>jump</em> and initial vowel in <em>over</em>.</p></li>
</ul>
</section>
<section id="consonant-to-vowel-boundaries-with-no-pause" class="level3">
<h3 class="anchored" data-anchor-id="consonant-to-vowel-boundaries-with-no-pause">Consonant-to-vowel boundaries with no pause</h3>
<ul>
<li><strong>Q:</strong> There is sort of a pause between the final consonant of a word and the initial vowel of the following word, but I can hear the vowel starting , just not fully going yet. Should there be a pause?<br>
<strong>A:</strong> No, if you can hear the vowel starting to go right after the consonant, even if the vowel isn’t fully going yet, count this as part of the vowel. See figure 46 below.<br>
<img src="alignmentGuide/media/image58.png" style="width:4.98875in;height:3.9345in"><br>
<strong>Figure 48 -</strong> What appeared to be a pause between D and A01 actually has audible/visible information as the vowel is starting. In this case, the beginning of the vowel should be the beginning of this information.</li>
</ul>
</section>
<section id="potential-issues-1" class="level3">
<h3 class="anchored" data-anchor-id="potential-issues-1">Potential issues</h3>
<section id="when-theres-a-notch-of-voicing-preceding-formant-structure-and-phonation" class="level4">
<h4 class="anchored" data-anchor-id="when-theres-a-notch-of-voicing-preceding-formant-structure-and-phonation">When there’s a “notch” of voicing preceding formant structure and phonation</h4>
<ul>
<li><strong>Q:</strong> Do we include the little “notch” of voicing as the beginning of the vowel, or start at formant structure? MFA wants to include the notch.<br>
<strong>A:</strong> We are not going to include the notch. Start vowel when formants start<img src="alignmentGuide/media/image59.png" style="width:4.848in;height:3.3411in"><br>
<strong>Figure 49</strong> – Boundary placement when there is “notch” of voice bar that precedes formant structure in a vowel</li>
</ul>
</section>
<section id="vowel-starts-before-phonation" class="level4">
<h4 class="anchored" data-anchor-id="vowel-starts-before-phonation">Vowel starts before phonation</h4>
<ul>
<li><p><strong>Q:</strong> I can hear vowel starting (in OW1 below) before formants actually start. Should there be a pause?<br>
<strong>A:</strong> Yes, let’s treat this as articulation, just like the nasal frication instances (see also figure 46 above.</p>
<p>In context<br>
<img src="alignmentGuide/media/image60.png" style="width:4.51853in;height:3.14077in"><br>
<strong>Figure 50</strong> – Vowel starts before phonation, viewed in context</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image61.png" style="width:4.84393in;height:3.4927in"><br>
<strong>Figure 51</strong> – Vowel starts before phonation, zoomed in</p></li>
</ul>
</section>
<section id="voiceless-vowels" class="level4">
<h4 class="anchored" data-anchor-id="voiceless-vowels">Voiceless vowels</h4>
<ul>
<li><p><strong>Q:</strong> When first vowel in “potato” is voiceless, what do we count as vowel?<br>
<strong>A:</strong> Look for most vowely part that doesn’t seem to be aspiration.</p>
<p>In context:<br>
<img src="alignmentGuide/media/image62.png" style="width:4.79233in;height:3.33927in"><br>
<strong>Figure 52</strong> – Voiceless vowel in “potato”, viewed in context</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image63.png" style="width:4.79585in;height:3.68553in"><br>
<strong>Figure 53</strong> – Voiceless vowel in “potato”, zoomed in</p></li>
</ul>
</section>
</section>
</section>
<section id="c.-consonant-to-consonant-transitions" class="level2">
<h2 class="anchored" data-anchor-id="c.-consonant-to-consonant-transitions">c.&nbsp;Consonant-to-consonant transitions</h2>
<section id="fricative-to-stopaffricate-transitions" class="level3">
<h3 class="anchored" data-anchor-id="fricative-to-stopaffricate-transitions">Fricative to stop/affricate transitions</h3>
<ul>
<li>Q: Where to put the boundary when there is a transition from a fricative to a stop or affricate?<br>
A: The boundary between a fricative and a stop should be placed at the end of the fricative. There may be a small “silent” period before the stop, which is the closure duration of the stop/affricate, and not actually a pause.<br>
<img src="alignmentGuide/media/image64.png" style="width:4.86025in;height:3.83472in"><br>
<strong>Figure 54</strong> – Boundary placement in Fricative &gt; Stop/Affricate transitions. Here between S of THIS and CH of CHEESE.</li>
</ul>
</section>
<section id="fricative-to-fricative-transitions" class="level3">
<h3 class="anchored" data-anchor-id="fricative-to-fricative-transitions">Fricative to fricative transitions</h3>
<ul>
<li>Q: Where to put the boundary between two fricatives?<br>
A: Look for a shift in the appearance of the noise for the two fricatives. The example below shows the transition from Z in IS to SH in SHOWING.<br>
<img src="alignmentGuide/media/image65.png" style="width:5.14583in;height:4.03695in"><br>
<strong>Figure 55</strong> – Fricative to fricative transition. Here there is some noise across the frequency range before, or perhaps as part of the transition to SH, which shows a different noise pattern. This lets us see the shift from Z to SH.</li>
</ul>
</section>
<section id="stop-to-fricative-transitions" class="level3">
<h3 class="anchored" data-anchor-id="stop-to-fricative-transitions">Stop to fricative transitions</h3>
<ul>
<li><p>Q: Where do we place the boundary between consecutive stops and fricatives (e.g., the boundary between T and S in “cowboy boots”).</p></li>
<li><p>A: Fricatives will almost always start immediately after the burst release, especially if the fricative and stop<br>
In context:<br>
<img src="alignmentGuide/media/image66.png" style="width:4.82312in;height:3.33032in"><br>
Figure 56 – Stop to fricative boundary in BOOTS</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image67.png" style="width:4.83027in;height:3.37912in"><br>
Figure 57 – T &gt; S boundary, zoomed in</p></li>
</ul>
</section>
<section id="when-to-start-hh-in-chh-transitions" class="level3">
<h3 class="anchored" data-anchor-id="when-to-start-hh-in-chh-transitions">When to start HH in C|HH transitions</h3>
<ul>
<li><p>Q: When do we begin the HH when transitioning from a stop (e.g., “D” below”)?<br>
A: Look for the transition from burst to HH. HH usually starts to have more formant structure.<br>
<img src="alignmentGuide/media/image68.png" style="width:4.64151in;height:3.31675in"><br>
<strong>Figure 58</strong> – When to start HH in consonant-to-consonant transition</p>
<p>What this looks like zoomed in:<br>
<img src="alignmentGuide/media/image69.png" style="width:4.85153in;height:3.82265in"><br>
<strong>Figure 59</strong> - D|HH boundary, zoomed in</p></li>
</ul>
</section>
<section id="stop-to-stop-transitions-across-word-boundaries" class="level3">
<h3 class="anchored" data-anchor-id="stop-to-stop-transitions-across-word-boundaries">Stop to stop transitions (across word boundaries)</h3>
<ul>
<li><p>Q: Where to place boundaries between stop consonants when there is a word boundary?</p></li>
<li><p>A: If the first stop is released, place the boundary after the release of the first stop and at the beginning of the closure for the second stop (see figures below).<br>
If the stop is unreleased, see the next section.</p>
<p>In context:<br>
<img src="alignmentGuide/media/image70.png" style="width:5.23958in;height:3.60333in"><br>
Figure 60 – Cursor is at boundary between G and D</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image71.png" style="width:5.15676in;height:3.5618in"><br>
Figure 61 – Boundary between G and D is placed after release of G and when amplitude in signal reduces as closure for D begins.</p></li>
</ul>
</section>
<section id="unreleased-cons-to-cons-transition" class="level3">
<h3 class="anchored" data-anchor-id="unreleased-cons-to-cons-transition">Unreleased Cons to Cons transition</h3>
<ul>
<li><p><strong>Q:</strong> Where do we place the boundary if final consonants are unreleased like in “hu<strong>g</strong> daddy”?<br>
<strong>A:</strong> If boundary for 1<sup>st</sup> consonant is placed at least 50 ms before the burst of the 2<sup>nd</sup> consonant, the boundary placement is okay. In the example below, the boundary was placed less than 50 ms before the 2<sup>nd</sup> consonant, so the boundary was moved to 50 ms preceding the consonant<br>
Pre-correction<br>
<img src="alignmentGuide/media/image72.png" style="width:4.63249in;height:3.21602in"><br>
<strong>Figure 62</strong> – Boundary placement in unreleased consonants, at least 50 ms before release of 2<sup>nd</sup> consonant (pre-correction)</p>
<p>Post-correction:<br>
<img src="alignmentGuide/media/image73.png" style="width:4.58861in;height:3.1934in"><br>
<strong>Figure 63</strong> – Boundary for unreleased consonant was moved to 50ms preceding 2<sup>nd</sup> consonant.</p>
<p>This boundary between G and D would remain where it is because MFA already placed it more than 50 ms prior to the release of D.<br>
<img src="alignmentGuide/media/image74.png" style="width:5.03576in;height:3.4976in"><br>
<strong>Figure 64</strong> – Consonant to consonant, unreleased, no correction required.</p></li>
<li><p><strong>Q: Where do we place the boundary when the gap between two consonants doesn’t allow for 50ms before the second consonant?</strong></p></li>
<li><p><strong>A:</strong> Place the boundary for the end of the first consonant/beginning of the second consonant in the most reasonable place given what you can see/hear.<br>
The boundary between D and DH in figure X below is not placed 50ms before the release of DH, but it’s placed after a relatively clear ending of D, and the audio supported the placement of this boundary.</p></li>
</ul>
<blockquote class="blockquote">
<p><img src="alignmentGuide/media/image75.png" style="width:4.98457in;height:3.20375in"><br>
<strong>Figure 65</strong> - Boundary placement between D and DH when less than 50ms available before DH</p>
</blockquote>
</section>
<section id="pause-between-words-when-do-we-start-the-post-pausal-consonant" class="level3">
<h3 class="anchored" data-anchor-id="pause-between-words-when-do-we-start-the-post-pausal-consonant">Pause between words, when do we start the post-pausal consonant?</h3>
<ul>
<li><strong>Q:</strong> When there is a pause between words, are we doing a bit of space before a within-sentence onset consonant?<br>
<strong>A:</strong> Place boundary 50 ms before beginning of the post-pausal consonant (cf Trouvain &amp; Werner, 2022).<br>
<img src="alignmentGuide/media/image76.png" style="width:5.05613in;height:3.51012in"><br>
<strong>Figure 66</strong> – Within utterance pause before a stop consonant. Initial, post-pausal boundary for consonant should be placed 50 ms before release of stop consonant.</li>
</ul>
</section>
</section>
<section id="d.-vowel-to-vowel-boundaries" class="level2">
<h2 class="anchored" data-anchor-id="d.-vowel-to-vowel-boundaries">d.&nbsp;Vowel-to-vowel boundaries</h2>
<section id="where-to-place-boundary-in-continuous-vv-transitions" class="level3">
<h3 class="anchored" data-anchor-id="where-to-place-boundary-in-continuous-vv-transitions">Where to place boundary in continuous V|V transitions</h3>
<ul>
<li><p>Q: Where should we place the boundary between vowels when there is no pause?<br>
A: Using the visual of the spectrogram as well as what you can hear, look for the border between the two vowels. See “She is…” below, where there is no break between the words and the vowels are sequential and continuous.<br>
<img src="alignmentGuide/media/image77.png" style="width:4.78008in;height:3.75461in"><br>
<strong>Figure 67</strong> – Vowel to vowel transition with no pause</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image78.png" style="width:4.6663in;height:3.45835in"><br>
<strong>Figure 68</strong> – the vertical cursor line shows the transition from IY1 in “she” to IH0 in “is”. Note how the second formant lowers going from IY1 to IH0 (you can see where the dotted red lines cross on the spectrogram).</p></li>
</ul>
</section>
<section id="where-to-place-boundary-in-vv-transitions-with-a-pause-between-words" class="level3">
<h3 class="anchored" data-anchor-id="where-to-place-boundary-in-vv-transitions-with-a-pause-between-words">Where to place boundary in V|V transitions with a pause between words</h3>
<ul>
<li>Q: Should we place a pause between V# #V word boundaries when there is a brief pause and no visible/audible information?<br>
<strong>A:</strong> These should have a pause between them since vowels do not have the same articulatory closure periods that consonants have. Final boundary of the preceding vowel should end at the end of information from that vowel, and initial boundary of the following initial vowel should start at the beginning of audible/visible information related to that vowel.<br>
<img src="alignmentGuide/media/image79.png" style="width:4.47277in;height:3.52661in"><br>
<strong>Figure 69</strong> - Pause between vowels</li>
</ul>
</section>
</section>
<section id="e.-vowel-to-voiceless-consonant-transitions" class="level2">
<h2 class="anchored" data-anchor-id="e.-vowel-to-voiceless-consonant-transitions">e. Vowel-to-voiceless consonant transitions</h2>
<ul>
<li><p><strong>Canonical placement</strong> – place end-of-vowel boundary where formant structure and phonation cease. This sometimes precedes the burst of the consonant by what appears to be significant amounts. See below for instances when there is pre-aspiration adjacent to the vowel and preceding the consonant.<br>
What this looks like in context - “m<u>ak</u>e a birdhouse”<br>
<img src="alignmentGuide/media/image80.png" style="width:4.61321in;height:4.10383in"><br>
<strong>Figure 70</strong> - Transition from a vowel to a following voiceless consonant</p>
<p>Zoomed in, You can see there is a little bit of residual phonation in black at the bottom of the spectrogram that continues into the K, but because the formant structure and associated noise in the middle frequencies shuts off about here, this is where we put the boundary.<br>
<img src="alignmentGuide/media/image81.png" style="width:4.57547in;height:3.60318in"><br>
<strong>Figure 71 -</strong> Zoomed in on end of vowel and transition into K</p></li>
</ul>
<section id="vowel-to-consonant-with-preaspiration" class="level3">
<h3 class="anchored" data-anchor-id="vowel-to-consonant-with-preaspiration">Vowel-to-Consonant with preaspiration</h3>
<ul>
<li><strong>Q:</strong> In “coffee”, do we attribute the voiceless vowel portion to the vowel or to the consonant as part of transition to [f]? If we’re treating it like a stop, this would be consonant closure, but do we treat fricatives the same?<br>
<strong>A:</strong> We are going to treat this as part of the consonant. Phonation is shutting off due to laryngeal status of following consonant.<br>
Note that this makes boundary placement in vowel &gt; consonant transitions completely analogous to many transitions from voiceless consonants to vowels (e.g.&nbsp;when there is heavy aspiration on a sound like K, but we start the vowel at onset of phonation for the vowel, even though the vocal tract may already be positioned for the vowel during the aspiration).<br>
<img src="alignmentGuide/media/image82.png" style="width:4.8848in;height:3.42771in"><br>
<strong>Figure 72</strong> - Here the phonation of the vowel ends suddenly as the glottis positions for S, resulting in H-like pre-aspiration leading into the F</li>
</ul>
</section>
</section>
<section id="f.-vowel-to-voiced-consonant-transitions" class="level2">
<h2 class="anchored" data-anchor-id="f.-vowel-to-voiced-consonant-transitions">f.&nbsp;Vowel to voiced consonant transitions</h2>
<ul>
<li><p>Canonical placement – place boundary at the end of the vowel where you will typically see a sudden reduction in energy in the spectrogram (goes from near-black to lighter grey) as well as a shift in formant structure.</p>
<p>What this looks like in context:<br>
<img src="alignmentGuide/media/image83.png" style="width:5in;height:4.02083in"><br>
<strong>Figure 73</strong> – Vowel to voiced consonant transition in context</p>
<p>What this looks like zoomed in<br>
<img src="alignmentGuide/media/image84.png" style="width:5in;height:3.40625in"><br>
<strong>Figure 74</strong> – vowel to voiced consonant transition, zoomed</p></li>
<li><p>There can be varying degrees of voicing between when the vowel ends and the consonant is released. The first, canonical examples shows when voicing goes entirely through the consonant closure. The following example shows partial voicing through consonant closure:<br>
In context:<br>
<img src="alignmentGuide/media/image85.png" style="width:5in;height:3.5in"><br>
<strong>Figure 75</strong> - Contextual view of a coda consonant closure with only partial voicing during the closure.</p>
<p>Zoomed in:<br>
<img src="alignmentGuide/media/image86.png" style="width:5in;height:3.13542in"><br>
<strong>Figure 76</strong> - Closer view of partial voicing during consonant closure</p></li>
</ul>
<section id="potential-issues-vowel-to-voiced-consonant-transitions" class="level3">
<h3 class="anchored" data-anchor-id="potential-issues-vowel-to-voiced-consonant-transitions">Potential issues: Vowel-to-voiced consonant transitions</h3>
<ul>
<li><p><strong>Where to put boundary when there is a gap in phonation between a vowel and a consonant.</strong><br>
<strong>Q:</strong> When there’s a gap between end of vowel and beginning of fricative?<br>
<strong>A:</strong> Count it towards the fricative and mark the end of the vowel as the end of the vowel.<br>
<img src="alignmentGuide/media/image87.png" style="width:5in;height:3.25in"><br>
<strong>Figure 77</strong> – Vowel to fricative transition, voicing stops before articulation of consonant</p></li>
<li><p><strong>When to end a vowel when voicing is inconsistent</strong><br>
<strong>Q:</strong> When voicing isn’t consistently modal, how do we decide when a vowel actually ends? (in other instances, we would end the vowel with voicing).<br>
<strong>A:</strong> Look for end of formant structure. There should still be formant structure even without phonation.<br>
<img src="alignmentGuide/media/image88.png" style="width:5in;height:2.65625in"><br>
<strong>Figure 78</strong> – Vowel to consonant transition, inconsistent phonation of vowel</p></li>
</ul>
</section>
</section>
<section id="g.-pauses" class="level2">
<h2 class="anchored" data-anchor-id="g.-pauses">g. Pauses</h2>
<section id="pauses-from-consonant-to-vowel-across-word-boundaries" class="level3">
<h3 class="anchored" data-anchor-id="pauses-from-consonant-to-vowel-across-word-boundaries">Pauses from consonant to vowel across word boundaries</h3>
<ul>
<li>Sometimes transitions from consonants to vowels across word boundaries are continuous, and there is no break between words. At other times there is a visible break with no audible or visible information between the consonant and the vowel. There should be a break between words in these instances:<br>
<img src="alignmentGuide/media/image57.png" style="width:4.65362in;height:3.67567in"><br>
<strong>Figure 79</strong> - Break between consonant and vowel across word boundaries</li>
</ul>
</section>
<section id="pauses-from-vowel-to-vowel-across-word-boundaries" class="level3">
<h3 class="anchored" data-anchor-id="pauses-from-vowel-to-vowel-across-word-boundaries">Pauses from vowel to vowel across word boundaries</h3>
<ul>
<li>Similarly, sometimes there is a break between two vowels that are on either side of a word boundary. If there is a break with no audible or visible information between the vowels, this break should be reflected with a break between words and phones in the text grid.<br>
<img src="alignmentGuide/media/image79.png" style="width:3.97445in;height:3.1337in"><br>
<strong>Figure 80</strong> - Pause between vowels</li>
</ul>
</section>
<section id="child-holds-a-pause-and-phonation-keeps-going" class="level3">
<h3 class="anchored" data-anchor-id="child-holds-a-pause-and-phonation-keeps-going">Child holds a pause and phonation keeps going</h3>
<ul>
<li><strong>Q:</strong> When a child is holding a pause with voice going, is this counted as “speech”?<br>
<strong>A:</strong> Seems like inserting a pause here might be best, as it’s not just prolonged coarticulation between two segments.<br>
<img src="alignmentGuide/media/image89.png" style="width:5.38443in;height:3.73976in"><br>
<strong>Figure 81</strong> – Pause with phonation</li>
</ul>
</section>
</section>
</section>
<section id="end-of-utterance-issues" class="level1">
<h1>7. End-of-utterance issues</h1>
<section id="a.-final-consonant-to-end-of-utterance-transition" class="level2">
<h2 class="anchored" data-anchor-id="a.-final-consonant-to-end-of-utterance-transition">a. Final-consonant to end-of-utterance transition</h2>
<section id="stops-at-end-of-utterances" class="level3">
<h3 class="anchored" data-anchor-id="stops-at-end-of-utterances">Stops at end of utterances</h3>
<ul>
<li><p>Canonical placement – place boundary at the end of noise associate with the release of the consonant (as long as this noise isn’t exhalation! See “Potential Issues” below)<br>
<img src="alignmentGuide/media/image90.png" style="width:5in;height:4.14583in"><br>
<strong>Figure 82</strong> – End of utterance consonant, in context</p>
<p>Zoomed in<br>
<img src="alignmentGuide/media/image91.png" style="width:5in;height:3.79167in"><br>
<strong>Figure 83</strong> – End of utterance consonant, zoomed</p></li>
</ul>
</section>
<section id="fricatives-at-the-ends-of-utterances" class="level3">
<h3 class="anchored" data-anchor-id="fricatives-at-the-ends-of-utterances">Fricatives at the ends of utterances</h3>
<ul>
<li><p>Canonical placement – place boundary at the end of noise associated with articulation of the fricative (be sure to listen to make sure that the noise doesn’t include exhalation).<br>
<img src="alignmentGuide/media/image92.png" style="width:5in;height:3.78125in"><br>
<strong>Figure 84</strong> - End boundaries for fricatives at the ends of utterances, in context</p>
<p>Zoomed in<br>
<img src="alignmentGuide/media/image93.png" style="width:5in;height:4.30208in"><br>
<strong>Figure 85</strong> - End boundaries for fricatives, zoomed in</p></li>
</ul>
</section>
<section id="nasals-at-ends-of-utterances" class="level3">
<h3 class="anchored" data-anchor-id="nasals-at-ends-of-utterances">Nasals at ends of utterances</h3>
<ul>
<li><p>Canonical placement – place boundary at the end of phonation and articulation associated with the nasal consonant (see “Potential Issues” below for when the child starts exhaling while the nasal is still being articulated).<br>
<img src="alignmentGuide/media/image94.png" style="width:5in;height:4.36458in"><br>
<strong>Figure 86</strong> - Nasals at the ends of words/utterances, in context</p>
<p>Zoomed in<br>
<img src="alignmentGuide/media/image95.png" style="width:5in;height:3.83333in"><br>
<strong>Figure 87</strong> - Nasals at the ends of words/utterances, in context</p></li>
</ul>
</section>
<section id="liquids-at-ends-of-utterances" class="level3">
<h3 class="anchored" data-anchor-id="liquids-at-ends-of-utterances">Liquids at ends of utterances</h3>
<ul>
<li><p>Canonical placement<br>
<img src="alignmentGuide/media/image96.png" style="width:5in;height:3.46875in"><br>
<strong>Figure 88</strong> - Boundary placement for liquids at the ends of words.</p>
<p>Zoomed in<br>
<img src="alignmentGuide/media/image97.png" style="width:5in;height:3.29167in"><br>
<strong>Figure 89</strong> - Boundary placement for utterance-final liquids, zoomed in</p></li>
</ul>
</section>
<section id="final-consonant-potential-issues" class="level3">
<h3 class="anchored" data-anchor-id="final-consonant-potential-issues">Final consonant potential issues</h3>
<section id="unreleased-consonants" class="level4">
<h4 class="anchored" data-anchor-id="unreleased-consonants">Unreleased consonants</h4>
<ul>
<li>Q: Where to place boundaries in final stop consonants when the consonant is unreleased?<br>
A: Place the boundary for the beginning of the sound (e.g., T in OUT, below) at the end of formant structure of the vowel, and place the boundary for the end of the sound at the end of visible energy related to the consonant.<br>
<img src="alignmentGuide/media/image98.png" style="width:4.64139in;height:3.66303in"><br>
<strong>Figure 90</strong> - Boundary placement for utterance-final unreleased stops</li>
</ul>
</section>
<section id="boundary-placement-audible-exhale-with-consonant-release" class="level4">
<h4 class="anchored" data-anchor-id="boundary-placement-audible-exhale-with-consonant-release">Boundary placement – audible exhale with consonant release</h4>
<ul>
<li><p><strong>Q:</strong> What counts as speech – any sound information? E.g., the little bit of breath escaping at the end of a word?<br>
<strong>A:</strong> We are not including anything after the burst release that is generally just exhale<br>
<strong>Q:</strong> what if the little bit at the end of the word is a new sound (e.g., “bee-ya”)<br>
<strong>A:</strong> don’t count exhale ‘ya’.<br>
<img src="alignmentGuide/media/image99.png" style="width:5in;height:2.33333in"><br>
<strong>Figure 91</strong> - Strong exhalation following final stop consonant</p></li>
<li><p><strong>Where to place boundary when exhalation starts during articulation of a nasal</strong><br>
<strong>Q:</strong> When there is nasal exhalation after/during a final nasal, do we need to count the voiceless finish of a nasal?<br>
<strong>A:</strong> Nasals are often finished this way at the end of an utterance. If the exhaley portion starts while still articulating the nasal, this counts as speech.<br>
Once articulation ends and it is just exhale, then it doesn’t count.</p></li>
</ul>
<blockquote class="blockquote">
<p><img src="alignmentGuide/media/image100.png" style="width:5in;height:3.21875in"><br>
<strong>Figure 92</strong> – post-nasal exhale, no articulation (exhale not included in boundary)</p>
<p><img src="alignmentGuide/media/image101.png" style="width:5in;height:3.5625in"><br>
<strong>Figure 93</strong> – post-nasal exhale with articulation (exhale is during articulation of NG and thus included within NG boundaries)</p>
</blockquote>
<ul>
<li><strong>Where to place end-of-word boundary when ER0 is still articulated when exhale starts</strong><br>
<strong>Q:</strong> Should we include exhale on ER0, as in “together”?<br>
<strong>A:</strong> If it is articulated, and not just exhale, it should count (similarly to nasals and vowels above). If the ER0 sounds complete and the rest is primarily exhale, don’t count it.<br>
<img src="alignmentGuide/media/image102.png" style="width:4.30189in;height:3.99717in"><br>
<strong>Figure 94</strong> – Exhale begins during articulation of ER0</li>
</ul>
</section>
</section>
</section>
<section id="b.-final-vowel-to-end-of-utterance-transition" class="level2">
<h2 class="anchored" data-anchor-id="b.-final-vowel-to-end-of-utterance-transition">b. Final vowel to end-of-utterance transition</h2>
<section id="typical-end-of-vowel" class="level3">
<h3 class="anchored" data-anchor-id="typical-end-of-vowel">Typical end of vowel</h3>
<ul>
<li><p>Canonical placement – place boundary at the most clear end of both formant structure and phonation<br>
In context<br>
<img src="alignmentGuide/media/image103.png" style="width:5in;height:3.53125in"><br>
<strong>Figure 95</strong> - End boundary placement for utterance-final vowel</p>
<p>Zoomed in<br>
<img src="alignmentGuide/media/image104.png" style="width:5in;height:3.5in"><br>
<strong>Figure 96</strong> - End boundary placement for utterance-final vowel</p></li>
</ul>
</section>
</section>
<section id="c.-final-vowel-potential-issues" class="level2">
<h2 class="anchored" data-anchor-id="c.-final-vowel-potential-issues">c.&nbsp;Final vowel potential issues</h2>
<section id="boundary-placement-phonation-for-vowel-ends-before-end-of-word" class="level3">
<h3 class="anchored" data-anchor-id="boundary-placement-phonation-for-vowel-ends-before-end-of-word">Boundary placement – phonation for vowel ends before end of word</h3>
<ul>
<li><strong>Q:</strong> Do we include voiceless end of vowel as part of vowel?<br>
<strong>A:</strong> As long as it is articulated, and not just exhale, this should be counted as vowel.<br>
<img src="alignmentGuide/media/image105.png" style="width:5in;height:2.33333in"><br>
<strong>Figure 97</strong> - Include voiceless portions of vowel if it is still articulated as vowel and not simply exhale</li>
</ul>
</section>
<section id="where-to-place-end-of-vowel-boundary-when-there-is-exhale-at-end-of-word" class="level3">
<h3 class="anchored" data-anchor-id="where-to-place-end-of-vowel-boundary-when-there-is-exhale-at-end-of-word">Where to place end-of-vowel boundary when there is exhale at end of word</h3>
<ul>
<li><strong>Q:</strong> Is it right to cut this off? (“both faces are happy-uh”)<br>
<strong>A:</strong> Yes. If it is just neutral vocal tract exhalation, this should not count.<br>
<img src="alignmentGuide/media/image106.png" style="width:5in;height:3.34375in">**<br>
Figure 98** - Exhalation immediately following a sound should not count as part of that sound.</li>
</ul>
</section>
</section>
</section>
<section id="segmental-issues-number-of-segments" class="level1">
<h1>8. Segmental issues (number of segments)</h1>
<section id="a.-blend-coalescence" class="level2">
<h2 class="anchored" data-anchor-id="a.-blend-coalescence">a. Blend coalescence</h2>
<section id="sm-coalesces-to-f" class="level3">
<h3 class="anchored" data-anchor-id="sm-coalesces-to-f">SM coalesces to F</h3>
<ul>
<li><strong>Q:</strong> For coalescences: Do we treat one as “deleted” (“to fall fieces”)? How do we space them?<br>
<strong>A:</strong> Let the two segments (S and M below) have a relatively equal amount of the segment.<br>
<img src="alignmentGuide/media/image107.png" style="width:5in;height:3.23958in"><br>
<strong>Figure 99</strong> – Segment boundaries when segments are coalesced</li>
</ul>
</section>
</section>
<section id="b.-vocalization-of-l-and-syllabic-l" class="level2">
<h2 class="anchored" data-anchor-id="b.-vocalization-of-l-and-syllabic-l">b. Vocalization of L and Syllabic L</h2>
<section id="final-l-is-produced-as-ow1-animo" class="level3">
<h3 class="anchored" data-anchor-id="final-l-is-produced-as-ow1-animo">Final L is produced as OW1 (“animo”)</h3>
<ul>
<li><strong>Q:</strong> When we’ve got /l/ as /o/ at the end of a word, what counts as AH0 and L?<br>
<strong>A:</strong> Luke’s initial response would be that it should all count as L. Make AH0 small, and L longer because the target production would primarily be L.<br>
<img src="alignmentGuide/media/image108.png" style="width:4.2513in;height:3.36243in"><br>
<strong>Figure 100</strong> – Vocalic L (pronounced as /o/) should have very short AH0 segment, L should make up nearly all of the sound.</li>
</ul>
</section>
<section id="where-to-place-l-boundaries-in-ah0-l-sequence-when-l-is-syllabic" class="level3">
<h3 class="anchored" data-anchor-id="where-to-place-l-boundaries-in-ah0-l-sequence-when-l-is-syllabic">Where to place L boundaries in AH0 L sequence when L is syllabic</h3>
<ul>
<li><strong>Q:</strong> syllabic L (can we justify “AH0 L” pronunciations over “L”? “soccer” has S AA1 K ER0, for instance).<br>
<strong>A:</strong> We need to keep these due to the adult models and assumed pronunciations. If it’s a syllabic L, just make AH0 shorter.<br>
<img src="alignmentGuide/media/image109.png" style="width:5in;height:3.27083in"><br>
<strong>Figure 101</strong> – Syllabic L, if there is no vowel to be heard between M and L in <em>animal</em>, AH0 should be minimal and L should take up nearly the entire duration of the sound.</li>
</ul>
</section>
</section>
<section id="c.-syllabic-r-issues" class="level2">
<h2 class="anchored" data-anchor-id="c.-syllabic-r-issues">c.&nbsp;Syllabic R issues</h2>
<section id="where-to-place-boundaries-and-whether-to-keep-segments-when-r-is-syllabic" class="level3">
<h3 class="anchored" data-anchor-id="where-to-place-boundaries-and-whether-to-keep-segments-when-r-is-syllabic">Where to place boundaries and whether to keep segments when R is syllabic</h3>
<ul>
<li><strong>Q:</strong> Change pronunciation from ”R” to “AA1|R”<br>
<strong>A:</strong> Luke’s initial response, syllabic R happens in these positions. Or just make AA1 very small.<br>
<img src="alignmentGuide/media/image110.png" style="width:5in;height:2.83333in"><br>
<strong>Figure 102</strong> - Syllabic R</li>
</ul>
</section>
</section>
</section>
<section id="miscellaneous-issues" class="level1">
<h1>9. Miscellaneous issues</h1>
<section id="beanie-has-no-phones-listed" class="level2">
<h2 class="anchored" data-anchor-id="beanie-has-no-phones-listed">Beanie has no phones listed</h2>
<p>Need to add intervals on the PHONES tier<br>
<img src="alignmentGuide/media/image111.png" style="width:4.31454in;height:3.3894in"><br>
<strong>Figure 103</strong> - <em>beanie</em> should have the pronunciation: B IY1 N IY0</p>
</section>
<section id="hh-in-whip" class="level2">
<h2 class="anchored" data-anchor-id="hh-in-whip">HH in WHIP</h2>
<p>We can delete HH in the pronunciation of WHIP as long as it just sounds like the child is saying W.<br>
Should be: W IH1 P</p>
<p>This may also need to be done for: WHITE</p>
</section>
<section id="y-in-new" class="level2">
<h2 class="anchored" data-anchor-id="y-in-new">Y in NEW</h2>
<p>Should be: N UW1</p>
</section>
<section id="inaccurate-transcription-in-text-grid" class="level2">
<h2 class="anchored" data-anchor-id="inaccurate-transcription-in-text-grid">Inaccurate transcription in text grid</h2>
<p>If the child says something different than what is listed in the text grid (e.g., they say a different word entirely than the target word, such as, “besides the shaggy dog” instead of “beside the shaggy dog”), update all tiers in the text grid to reflect what the child actually said.</p>
<p>If the child just mis-pronounces/mis-produces the target words, <u>do not change anything</u></p>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<p>Trouvain, J. &amp; Werner, R. 2022. A phonetic view on annotating speech pauses and pause-internal phonetic principles. <em>Transkription und Annotation Gesprochener Sprache und Multimodaler Interaktion: Konzepte, Probleme, Lösungen</em>, <em>64</em>, pp.&nbsp;55-73.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>